@using app.shared.Utilities
<header>
        <nav id="navbar" class="relative w-full z-50 @NavBarClass">
        <!-- <nav id="navbar" class="fixed w-full h-screen z-50 @NavBarClass"> -->
        <div class="container mx-auto p-4 relative flex justify-between h-[70px] items-center">
            <a data-enhance-nav="false" href="/" class="flex items-center gap-2">
                <img src="@Assets["/assets/brand/logo-rounded.png"]" alt=".NET Cameroon Logo" class="size-12">
                <span class="text-white">@L["Site_Name"]</span>
            </a>
            <ul id="nav-links" class="fixed md:relative md:top-0 top-0 h-full md:h-auto bg-white md:bg-transparent w-full md:w-auto left-0 p-4 flex flex-col md:flex-row gap-2 md:gap-4">
                <li class="flex">
                    <NavLink href="/" data-enhance-nav="false" Match="NavLinkMatch.All" class="py-2 md:text-slate-300 md:hover:text-white transition-all">Home</NavLink>
                </li>
                @* <li class="flex">
                    <NavLink href="/events" data-enhance-nav="false" class="py-2 md:text-slate-300 md:hover:text-white transition-all">Events</NavLink>
                </li> *@
                <li class="flex">
                    <NavLink href="/dotnet-conf-2024" data-enhance-nav="false" class="py-2 md:text-slate-300 md:hover:text-white transition-all">.NET Conf 2024</NavLink>
                </li>
                @* <li class="flex">
                    <NavLink href="/counter" data-enhance-nav="false" class="py-2 md:text-slate-300 md:hover:text-white transition-all">Counter</NavLink>
                </li> *@
                @* <li class="flex">
                    <NavLink href="/about" class="py-2 md:text-slate-300 md:hover:text-white transition-all">About</NavLink>
                </li>
                <li class="flex">
                    <NavLink href="/projects" class="py-2 md:text-slate-300 md:hover:text-white transition-all">Projects</NavLink>
                </li>
                <li class="flex">
                    <NavLink href="/resources" class="py-2 md:text-slate-300 md:hover:text-white transition-all">Resources</NavLink>
                </li>
                <li class="flex">
                    <NavLink href="/contact" class="py-2 md:text-slate-300 md:hover:text-white transition-all">Contact</NavLink>
                </li> *@
                @* <li class="flex">
                    <a data-enhance-nav="false" href="/" class="btn">Join</a>
                </li> *@
            </ul>
            <div class="flex items-center gap-4">
                <div class="hidden md:flex items-center gap-2">
                    <a class="text-white hover:underline" href="@GetSetCultureUrl("en-US")">EN</a>
                    <a class="text-white hover:underline" href="@GetSetCultureUrl("fr-FR")">FR</a>
                </div>
                <button id="hamburger" onclick="toggleNavbar()" title="Hamburger menu" aria-label="Hamburger menu">
                    <span></span>
                </button>
            </div>
        </div>
    </nav>
</header>

@code{
    [Parameter]
    public NavType Type { get; set; }

    private string NavBarClass => Type == NavType.Default ? string.Empty : "transparent";

    [Inject]
    private Microsoft.AspNetCore.Components.NavigationManager NavigationManager { get; set; } = default!;

    [Inject]
    private Microsoft.Extensions.Localization.IStringLocalizer<app.Resources.SharedResources> L { get; set; } = default!;

    private string GetSetCultureUrl(string culture)
    {
        // Use the current absolute URI as returnUrl so the user returns to the same page after switching
        var returnUrl = Uri.EscapeDataString(NavigationManager.Uri);
        return $"/setculture?culture={culture}&returnUrl={returnUrl}";
    }
}